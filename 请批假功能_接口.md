#请批假功能

## 接口

以下接口均约定返回中包含
{
    status:状态码,//为0时表示成功，其他表示异常。
    message:附加信息,
}

###用户

---

#### 验证码

前景`Get`/static/verify-ft.png

背景`Get`/static/verify-bg.png



#### 登录

`Post` <font color="#f00" underline=true>/account/login</font>

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| UserName   | string | 用户名             |
| Password   | string | 密码               |
| VerifyCode | string | 经AES加密的x轴数值 |



#### 个人信息设置

`Post` <font color="#f00" underline=true>/account/info</font>

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| RealName   | string | 用户真实姓名             |
| Duties   | string | 职务（下拉框）               |
| Phone   | string | 联系方式               |
| Address   | string | 家庭住址               |

#### 个人信息获取
'Get'  <font color="#f00" underline=true>/account/info</font>

`Reponse`
```josn
	{
        此处返回用户实体，待设计
	}
```

#### 个人权限

`get` <font color="#f00" underline=true>/account/permission</font>

`Response` `string`  用户权限名称，依据此名称决定用户side by导航视图

### 申请

---

#### 提交申请

`Post` /apply/submit

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| Param   | json | 包含提交申请实体的提交数据             |
| VerifyCode | string | 经AES加密的x轴数值 |

```json
Param：{
    request:{
        xjts:休假天数,//下拉框
        ltts:路途天数,//下拉框   
    }
    xjlb:休假类别,
    stamp:{
        ldsj:离队时间,
    }
}
```
`Response` `string` 申请提交id

#### 审核申请

`Get`/apply/auth
| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| path   | string | 获取申请的单位路径,例如全部则为Root  |

`Response`
```json
	{
        [
            {
                id:申请的id,
                from:申请人名称,
                company:申请来源单位,
                status `int`:申请的通过状态,
            }
            ...
        ]
	}
```

#### 获取申请详情

`Get`/apply/apply
| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| id   | string | 申请的id  |

`Response`
```json
	申请的实体，待设计...
```

`Post` /apply/auth

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| Param   | json | 包含申请实体的提交数据  |

```json
Param：{
    [
        {
            id:申请id,
            apply:申请状态号,//0:通过 1:不通过 ...
            remark:备注
        },
        ...
    ]
}
```

###单位

单位以路径方式表示，如	Root/北京总部/市场运营部/客户管理科

#### 单位包含子单位
`post` /company/dic

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| path   | string | 需要获取的单位路径             |

`Response`
```json
{
    [
    	{
            id:
            Name:
            Path:
            ...
    	},
    	...
    ]
}
```

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| Name   | json | 包含提交申请实体的提交数据             |
| ParentPath | string | 经AES加密的x轴数值 |

#### 单位包含职务

`post` /company/duties

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| path   | string | 需要获取的单位路径             |

`Response`
```json
{
    [
    	{
            id:
            Name:
            Permission://职务对应的操作单位权限
            ...
    	},
    	...
    ]
}
```


#### 创建单位

`post` /company/duties

| 字段名     | 类型   | 描述               |
| ---------- | ------ | ------------------ |
| Name   | string | 新单位名称             |
| ParentPath   | string | 单位的父路径             |

`Response` `string` id 单位的id